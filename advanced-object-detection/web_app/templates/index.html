<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Object Detection System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><i class="fas fa-robot"></i> Advanced Object Detection System</h1>
            <p>State-of-the-art deep learning models for real-time object detection</p>
        </div>

        <!-- Upload Section -->
        <div class="upload-section">
            <h2>Upload Image for Detection</h2>
            
            <div class="upload-area" id="upload-area">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div id="upload-text">
                    <p>Drag and drop an image here or click to browse</p>
                    <p class="text-muted">Supported formats: JPEG, PNG (Max 10MB)</p>
                </div>
                <input type="file" id="file-input" class="file-input" accept="image/*">
            </div>

            <div class="model-selection">
                <label for="model-select">Select Detection Model:</label>
                <select id="model-select">
                    <option value="yolo">YOLOv8 (Fast)</option>
                    <option value="rcnn">Faster R-CNN (Accurate)</option>
                    <option value="ssd">SSD (Balanced)</option>
                    <option value="efficientdet">EfficientDet (Efficient)</option>
                </select>
            </div>

            <div class="controls">
                <button id="detect-btn" class="btn btn-primary">
                    <i class="fas fa-search"></i> Detect Objects
                </button>
                <a href="/realtime" class="btn btn-secondary">
                    <i class="fas fa-video"></i> Real-time Detection
                </a>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Processing image...</p>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="results-section">
            <h2>Detection Results</h2>
            
            <!-- Statistics -->
            <div class="detection-stats">
                <div class="stat-card">
                    <h3 id="total-objects">0</h3>
                    <p>Objects Detected</p>
                </div>
                <div class="stat-card">
                    <h3 id="unique-classes">0</h3>
                    <p>Unique Classes</p>
                </div>
                <div class="stat-card">
                    <h3 id="avg-confidence">0%</h3>
                    <p>Average Confidence</p>
                </div>
                <div class="stat-card">
                    <h3 id="processing-time">0ms</h3>
                    <p>Processing Time</p>
                </div>
            </div>

            <!-- Detected Image -->
            <div id="image-container" class="image-container">
                <!-- Detected image will be displayed here -->
            </div>

            <!-- Detection List -->
            <div class="detection-list">
                <h3>Detected Objects</h3>
                <div id="detection-list">
                    <!-- Detection items will be listed here -->
                </div>
            </div>

            <!-- Export Options -->
            <div class="export-options">
                <button class="btn btn-secondary" onclick="exportResults('json')">
                    <i class="fas fa-download"></i> Export JSON
                </button>
                <button class="btn btn-secondary" onclick="exportResults('csv')">
                    <i class="fas fa-file-csv"></i> Export CSV
                </button>
                <button class="btn btn-primary" onclick="saveImage()">
                    <i class="fas fa-save"></i> Save Image
                </button>
            </div>
        </div>

        <!-- Model Comparison -->
        <div class="model-comparison">
            <h2>Model Performance Comparison</h2>
            <canvas id="comparison-chart"></canvas>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Additional inline scripts for specific functionality
        function exportResults(format) {
            // Implementation for exporting results
            console.log('Exporting results as', format);
        }
        
        function saveImage() {
            // Implementation for saving annotated image
            console.log('Saving annotated image');
        }
    </script>
</body>
</html>
